START:
	IN 10H
	CALL MAIN
	RST 1

; ---------------

MAIN:
	MVI A,00H
	LXI H,0900H
	LXI B,0000H
	MVI D,00H

FIRST:
	CALL SECOND
	CPI FFH
	JZ ENDED

	CPI 10H
	JC OUTSIDE
	CPI 61H
	JC INSIDE
	JMP OUTSIDE

INSIDE:
	INR D

OUTSIDE:
	MOV M,A
	INX H
	INR A
	JMP FIRST

ENDED:
	MOV M,A
	RET

; ---------------

SECOND:
	RAR
	JC COUNT1
	INX B

COUNT1:
	RAR
	JC COUNT2
	INX B

COUNT2:
	RAR
	JC COUNT3
	INX B

COUNT3:
	RAR
	JC COUNT4
	INX B

COUNT4:
	RAR
	JC COUNT5
	INX B

COUNT5:
	RAR
	JC COUNT6
	INX B

COUNT6:
	RAR
	JC COUNT7
	INX B

COUNT7:
	RAR
	JC COUNT8
	INX B

COUNT8:
	RAR
	RET

; ---------------

END