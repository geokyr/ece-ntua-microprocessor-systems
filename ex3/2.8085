START:	
	IN 10H	
	MVI A,0DH	
	SIM				
	EI	
	
	MVI B,06H
	LXI H,0A00H	
		
FILL:
	MVI M,10H		
	INX H			
	DCR B
	JNZ FILL

	MVI D,55H
	MVI E,AAH

	PUSH D
	LXI D,0A00H
	CALL STDM
	POP D
	CALL DCD

WAIT:				
	JMP WAIT

;-----------------------

INTR_ROUTINE:
	CALL KIND
	STA 0A04H
	MOV B,A
	CALL KIND
	STA 0A05H
	RLC
	RLC
	RLC
	RLC
	ADD B
	
	CMP D
	JC FIR
	JZ FIR
	JMP NOFIR

FIR:	
	MVI A,04H
	JMP FINAL

NOFIR:
	CMP E
	JC SEC
	JZ SEC
	JMP LAST

SEC:
	MVI A,02H
	JMP FINAL

LAST:
	MVI A,01H

FINAL:
	CMA
	STA 3000H

	PUSH D
	LXI D,0A00H
	CALL STDM
	POP D
	EI

DISP:
	CALL DCD
	JMP DISP

END